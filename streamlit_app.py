# streamlit_app.py
import streamlit as st

st.set_page_config(page_title="ì†Œë“ì„¸ ê³„ì‚°ê¸°", layout="centered")

st.title("ğŸ’° ì†Œë“ì„¸ ê³„ì‚°ê¸° (2024)")

st.caption("â€» í•™ìŠµìš© ì˜ˆì‹œì…ë‹ˆë‹¤. ê·¼ë¡œì†Œë“ê³µì œ/ì„¸ì•¡ê³µì œ ë“±ì€ ë‹¨ìˆœí™”í–ˆìŠµë‹ˆë‹¤.")

income = st.number_input("ì—° ì†Œë“ì„ ì…ë ¥í•˜ì„¸ìš” (ì›)", min_value=0, step=1_000_000, format="%d")

def calc_tax_2024(inc: int):
    # 2024 ê³¼ì„¸í‘œì¤€ ëˆ„ì§„ì„¸ìœ¨ (ë‹¨ìˆœí™”, ê³µì œ ë¯¸ë°˜ì˜)
    # 0~12M:6%, 12~46M:15%, 46~88M:24%, 88~150M:35%, 150~300M:38%, 300~500M:40%, 500M~:42%
    if inc <= 12_000_000:
        tax = inc * 0.06
        level = "ì €ì†Œë“ì¸µ"
    elif inc <= 46_000_000:
        tax = 12_000_000 * 0.06 + (inc - 12_000_000) * 0.15
        level = "ì¤‘ê°„ì†Œë“ì¸µ"
    elif inc <= 88_000_000:
        tax = (12_000_000 * 0.06
               + (46_000_000 - 12_000_000) * 0.15
               + (inc - 46_000_000) * 0.24)
        level = "ê³ ì†Œë“ì¸µ"
    elif inc <= 150_000_000:
        tax = (12_000_000 * 0.06
               + (46_000_000 - 12_000_000) * 0.15
               + (88_000_000 - 46_000_000) * 0.24
               + (inc - 88_000_000) * 0.35)
        level = "ìƒìœ„ì†Œë“ì¸µ"
    elif inc <= 300_000_000:
        tax = (12_000_000 * 0.06
               + (46_000_000 - 12_000_000) * 0.15
               + (88_000_000 - 46_000_000) * 0.24
               + (150_000_000 - 88_000_000) * 0.35
               + (inc - 150_000_000) * 0.38)
        level = "ê³ ì†Œë“ì¸µ"
    elif inc <= 500_000_000:
        tax = (12_000_000 * 0.06
               + (46_000_000 - 12_000_000) * 0.15
               + (88_000_000 - 46_000_000) * 0.24
               + (150_000_000 - 88_000_000) * 0.35
               + (300_000_000 - 150_000_000) * 0.38
               + (inc - 300_000_000) * 0.40)
        level = "ì´ˆê³ ì†Œë“ì¸µ"
    else:
        tax = (12_000_000 * 0.06
               + (46_000_000 - 12_000_000) * 0.15
               + (88_000_000 - 46_000_000) * 0.24
               + (150_000_000 - 88_000_000) * 0.35
               + (300_000_000 - 150_000_000) * 0.38
               + (500_000_000 - 300_000_000) * 0.40
               + (inc - 500_000_000) * 0.42)
        level = "ìµœê³ ì†Œë“ì¸µ"
    return round(tax), level

if st.button("ì„¸ê¸ˆ ê³„ì‚°í•˜ê¸°"):
    tax, level = calc_tax_2024(int(income))
    st.success(f"ì†Œë“: {income:,.0f}ì›\n\nì†Œë“ ìˆ˜ì¤€: {level}\n\nì˜ˆìƒ ì„¸ê¸ˆ: {tax:,.0f}ì›")

with st.expander("ğŸ“˜ ì„¸ìœ¨í‘œ ë³´ê¸°"):
    st.write("""
- 0 ~ 12,000,000ì›: **6%**
- 12,000,000 ~ 46,000,000ì›: **15%**
- 46,000,000 ~ 88,000,000ì›: **24%**
- 88,000,000 ~ 150,000,000ì›: **35%**
- 150,000,000 ~ 300,000,000ì›: **38%**
- 300,000,000 ~ 500,000,000ì›: **40%**
- 500,000,000ì› ì´ˆê³¼: **42%**
""")
